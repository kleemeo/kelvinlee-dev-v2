---
import ThemeButton from "../components/ThemeButton.astro";
import { Content as Bio } from '../content/Bio.md'
import MainLayout from "../layouts/MainLayout.astro";
import SocialBar from "../components/SocialBar.astro";
---

<MainLayout showFooter={true}>
  <main class="wrapper">
    <section
      class="container p-0 px-10 max-w-screen-lg h-min mx-auto flex flex-col sm:flex-row justify-between items-stretch gap-4">
      <section class="container flex flex-col gap-4 sm:gap justify-between">
        <div class="">
          <ThemeButton client:idle />
          <h1 class="tracking-tight">Hey, it's Kelvin ğŸ‘‹ğŸ¼</h1>
          <h2 id="headingBox" class="">Frontend Engineer</h2>
          <h3 id="subheading" class="text-lg w-max transition-all opacity-0"></h3>
        </div>
        <div class="container p-0 flex flex-col gap-2 mt-5">
          <SocialBar />
          <a class="w-max" href="/resume">Resume/CV</a>
        </div>
      </section>
      <section class="container font-sans flex flex-col gap-4 justify-between">
        <Bio />
      </section>
    </section>
  </main>
  <script>
    let i = 0;
    const sbEl = document.getElementById('subheading');
    const phrases = ['Based in Toronto ğŸ‡¨ğŸ‡¦ + remote ğŸŒ', 'Originally from Taiwan ğŸ‡¹ğŸ‡¼', 'Enjoying âš½ï¸ ğŸ” ğŸ‚'];
    sbEl.textContent = phrases[i];
    const update = () => {
      sbEl.classList.add('translate-y-0', 'opacity-100');
      sbEl.textContent = phrases[i];
      setTimeout(() => {
        sbEl.classList.remove('opacity-100', 'translate-y-0');
        sbEl.classList.add('opacity-0')
      }, 4000)
      i === phrases.length - 1 ? i = 0 : i++;
    }
    update();
    setInterval(() => {
      update()
    }, 5000);


  </script>
</MainLayout>