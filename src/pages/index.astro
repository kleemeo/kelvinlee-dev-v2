---
import ThemeButton from '../components/ThemeButton.astro';
import { Content as Bio } from '../content/Bio.md';
import MainLayout from '../layouts/MainLayout.astro';
import SocialBar from '../components/SocialBar.astro';
import NavBar from '../components/NavBar.astro';
---

<MainLayout showFooter={true}>
  <NavBar />
  <main class='wrapper mt-[-100px] sm:mt-[-60px]'>
    <section
      class='container p-0 sm:px-10 max-w-screen-lg h-min mx-auto flex flex-col sm:flex-row justify-between items-stretch gap-4'
    >
      <section class='container flex flex-col justify-start gap-4 sm:gap-7'>
        <div class=''>
          <h1 class='tracking-tight'>Hey, it's Kelvin 👋🏼</h1>
          <h2 id='headingBox' class=''>Frontend Engineer</h2>
          <h3 id='subheading' class='text-lg w-max transition-all opacity-0'>
          </h3>
        </div>
        <div class='container p-0 flex flex-col gap-2 my-2 sm:mt-4'>
          <SocialBar />
          <a
            class='hidden sm:block mx-auto sm:mx-0 sm:w-max highlight'
            href='./assets/resume-2023.pdf'
            >Resume/CV
          </a>
        </div>
      </section>
      <section class='container font-sans flex flex-col justify-between'>
        <Bio />
      </section>
    </section>
  </main>
  <script>
    let i = 0;
    const sbEl = document.getElementById('subheading');
    const phrases = [
      'Based in Toronto 🇨🇦 + Remote 🌎',
      'Originally from Taiwan 🇹🇼',
      '⚽️ 🏔 🏂',
    ];
    sbEl.textContent = phrases[i];
    const update = () => {
      sbEl.classList.add('translate-y-1', 'opacity-100');
      sbEl.textContent = phrases[i];
      setTimeout(() => {
        sbEl.classList.remove('opacity-100', 'translate-y-1');
        sbEl.classList.add('opacity-0');
      }, 4000);
      i === phrases.length - 1 ? (i = 0) : i++;
    };
    update();
    setInterval(() => {
      update();
    }, 5000);
  </script>
</MainLayout>
